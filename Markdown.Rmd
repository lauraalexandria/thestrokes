---
output: 
  html_document:
    toc: true
    toc_float:
      collapsed: false
      css: styles.css
---

<style>
body {
  text-align: justify}
  
#TOC {
  background: url("https://d1yjjnpx0p53s8.cloudfront.net/styles/logo-thumbnail/s3/022011/untitled-1_95.png?itok=i9qUrcs1");
  background-size: contain;
  padding-top: 250px !important;
  background-repeat: no-repeat;
  color: purple;
  border-color: #fffff}
  
.tocify {
  border: none;
}
  
.list-group-item.active, .list-group-item.active:focus, .list-group-item.active:hover {
    background-color: purple}
</style>


```{r include=FALSE, message=F, warning=F}
library(tidyverse)
library(tidytext)
library(wordcloud2)
library(textdata) 
library(here)
library(echarts4r)

data("stop_words")  # Fixando as stopwords
stop_words <- stop_words %>% add_row(word = c("yeah", "gonna", "hey"))

source("WebScraping.R")
letras <- apply(musicas[,3], 1, get_lyric)
musicas <- musicas %>% 
  mutate(letras = tolower(letras))
```


# Indrodution

I love The Strokes, and a WebScrap 90 songs of them

# Cloud Words

```{r echo=FALSE, message=F, warning=F}
contagem <- musicas %>% select(c(2,4)) %>%
  unnest_tokens(word, letras) %>%
  anti_join(stop_words) %>%
  count(word)

#wordcloud2(contagem %>% filter(n > 5))

contagem %>%
  filter(n > 5) %>%
  e_charts() %>%
  e_cloud(word, n, shape = "circle") %>% 
  e_tooltip(backgroundColor = "rgb(255,255,255,0.8)", 
            borderColor = '#333', borderWidth = 1,
            textStyle = list(color = '#333'))

```


# Number of words by Song

```{r echo=FALSE, message=FALSE, warning=FALSE}
num_por_musica <- musicas %>% select(c(2,4)) %>% 
  unnest_tokens(word, letras) %>%
  anti_join(stop_words) %>%
  group_by(SName) %>% 
  count()

num_por_musica %>% ungroup() %>% 
  e_charts() %>%
  e_histogram(n) %>% 
  e_tooltip(trigger = "axis", backgroundColor = "rgb(255,255,255,0.8)", 
            borderColor = '#333', borderWidth = 1,
            textStyle = list(color = '#333')) %>% 
  e_theme("sakura")
```


